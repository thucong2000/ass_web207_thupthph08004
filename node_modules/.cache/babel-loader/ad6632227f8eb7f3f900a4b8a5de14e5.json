{"ast":null,"code":"var _jsxFileName = \"E:\\\\web207.2-react\\\\web207.2\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, removecate, addcate, editcate } from './api/categoryApi';\nimport \"./styles.css\";\nimport Routes from \"./routers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]); //---------------------product----------------------------------------\n\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n\n    getProducts();\n  }, []); // Xóa sản phẩm\n\n  const removeProduct = async id => {\n    try {\n      await remove(id);\n      const newProducts = products.filter(item => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Thêm sản phẩm\n\n\n  const addProduct = async item => {\n    try {\n      const {\n        data\n      } = await add(item); // tra ve 1 object { data: ..., status: ...}\n\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n\n\n  const editProduct = async item => {\n    try {\n      const {\n        data\n      } = await edit(item);\n      const newProducts = products.map(product => product.id == item.id ? data : product);\n      setProducts(newProducts);\n    } catch (error) {}\n  }; // ví dụ: promise\n  //------------------------------------------------------------------------------------------\n  //-------------------------category-----------------------------------------\n\n\n  useEffect(() => {\n    // call api\n    const getCategories = async () => {\n      try {\n        const {\n          data\n        } = await getAllCate();\n        setCategories(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n\n    getCategories();\n  }, []); // Xóa sản phẩm\n\n  const removeCate = async id => {\n    try {\n      await removecate(id);\n      const newCategories = categories.filter(item => item.id !== id);\n      setCategories(newCategories);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Thêm sản phẩm\n\n\n  const addCate = async item => {\n    try {\n      const {\n        data\n      } = await addcate(item); // tra ve 1 object { data: ..., status: ...}\n\n      setCategories([...categories, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n\n\n  const editCate = async item => {\n    try {\n      const {\n        data\n      } = await editcate(item);\n      const newCategories = categories.map(category => category.id == item.id ? data : category);\n      setCategories(newCategories);\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    categories: categories,\n    products: products,\n    onRemove: removeProduct,\n    onAdd: addProduct,\n    onEdit: editProduct,\n    onRemoveCate: removeCate,\n    onAddCate: addCate,\n    onEditCate: editCate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5fzjv6slvL9kyEeBtrdWdsaec98=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/web207.2-react/web207.2/src/App.js"],"names":["useEffect","useState","getAll","remove","add","edit","getAllCate","removecate","addcate","editcate","Routes","App","products","setProducts","categories","setCategories","getProducts","data","error","console","log","removeProduct","id","newProducts","filter","item","addProduct","editProduct","map","product","getCategories","removeCate","newCategories","addCate","editCate","category"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, removecate, addcate, editcate } from './api/categoryApi';\nimport \"./styles.css\";\nimport Routes from \"./routers\";\n\nexport default function App() {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  \n\n  //---------------------product----------------------------------------\n\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const { data } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getProducts();\n  }, []);\n  // Xóa sản phẩm\n  const removeProduct = async (id) => {\n    try {\n      await remove(id);\n      const newProducts = products.filter((item) => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // Thêm sản phẩm\n  const addProduct = async (item) => {\n    try {\n      const { data } = await add(item); // tra ve 1 object { data: ..., status: ...}\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const editProduct = async (item) => {\n    try {\n      const { data } = await edit(item);\n      const newProducts = products.map((product) =>\n        product.id == item.id ? data : product\n      );\n      setProducts(newProducts);\n    } catch (error) {}\n  };\n  // ví dụ: promise\n\n\n//------------------------------------------------------------------------------------------\n\n  //-------------------------category-----------------------------------------\n  useEffect(() => {\n    // call api\n    const getCategories = async () => {\n      try {\n        const { data } = await getAllCate();\n        setCategories(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getCategories();\n  }, []);\n  // Xóa sản phẩm\n  const removeCate = async (id) => {\n    try {\n      await removecate(id);\n      const newCategories = categories.filter((item) => item.id !== id);\n      setCategories(newCategories);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // Thêm sản phẩm\n  const addCate = async (item) => {\n    try {\n      const { data } = await addcate(item); // tra ve 1 object { data: ..., status: ...}\n      setCategories([...categories, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const editCate = async (item) => {\n    try {\n      const { data } = await editcate(item);\n      const newCategories = categories.map((category) =>\n      category.id == item.id ? data : category\n      );\n      setCategories(newCategories);\n    } catch (error) {}\n  };\n  return (\n    <Routes\n      categories={categories}\n      products={products}\n      onRemove={removeProduct}\n      onAdd={addProduct}\n      onEdit={editProduct}\n      onRemoveCate={removeCate}\n      onAddCate={addCate}\n      onEditCate={editCate}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}