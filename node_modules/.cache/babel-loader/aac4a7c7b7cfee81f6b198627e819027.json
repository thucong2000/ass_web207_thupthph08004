{"ast":null,"code":"import _objectSpread from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\thupthph08004\\\\src\\\\pages\\\\website\\\\signup.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { signup } from '../../api/authAPI';\nimport { authenticated } from '../../auth/index';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Signup = function Signup() {\n  _s();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      success = _useState4[0],\n      setSuccess = _useState4[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var _response;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return signup(data);\n\n            case 3:\n              _response = _context.sent;\n              authenticated(_response.data.accessToken);\n              setSuccess(true);\n              _context.next = 13;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(response, _context.t0);\n              setSuccess(false);\n              setError(_context.t0.response.data);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  t;\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"mt-5 col-6 mx-auto\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger mb-2\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }, _this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success mb-2\",\n      children: [\"B\\u1EA1n \\u0111\\xE3 \\u0111\\u0103ng k\\xFD th\\xE0nh c\\xF4ng. Click \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signin\",\n        children: \"v\\xE0o \\u0111\\xE2y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 44\n      }, _this), \" \\u0111\\u1EC3 Login\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0110\\u0103ng k\\xFD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        className: \"form-label\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread({\n        type: \"text\",\n        className: \"form-control\",\n        id: \"username\"\n      }, register(\"username\")), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        className: \"form-label\",\n        children: \"Email address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread({\n        type: \"email\",\n        className: \"form-control\",\n        id: \"email\",\n        \"aria-describedby\": \"emailHelp\"\n      }, register(\"email\")), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        className: \"form-label\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread({\n        type: \"password\",\n        className: \"form-control\",\n        id: \"password\"\n      }, register(\"password\")), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      children: \"\\u0110\\u0103ng k\\xFD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Signup, \"qC53SvYGQBTBXy64PU7B/wJijgY=\", false, function () {\n  return [useForm];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["E:/thupthph08004/src/pages/website/signup.js"],"names":["React","useState","useForm","signup","authenticated","Link","Signup","register","handleSubmit","errors","formState","error","setError","success","setSuccess","onSubmit","data","response","accessToken","console","log","t"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { signup } from '../../api/authAPI';\nimport { authenticated } from '../../auth/index';\nimport { Link } from \"react-router-dom\";\n\nconst Signup = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors }\n  } = useForm();\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const onSubmit = async (data) => {\n    try {\n      const response = await signup(data);\n      authenticated(response.data.accessToken);\n      setSuccess(true);\n    } catch (error) {\n      console.log(response, error)\n      setSuccess(false);\n      setError(error.response.data);\n      \n    }\n  };t\n\n  return (\n    <form className=\"mt-5 col-6 mx-auto\" onSubmit={handleSubmit(onSubmit)}>\n      {error && <div className=\"alert alert-danger mb-2\">{error}</div>}\n      {success && (\n        <div className=\"alert alert-success mb-2\">\n          Bạn đã đăng ký thành công. Click <Link to=\"/signin\">vào đây</Link> để\n          Login\n        </div>\n      )}\n\n      <h2>Đăng ký</h2>\n      <div className=\"mb-3\">\n        <label htmlFor=\"username\" className=\"form-label\">\n          Username\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"username\"\n          {...register(\"username\")}\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"email\" className=\"form-label\">\n          Email address\n        </label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          id=\"email\"\n          aria-describedby=\"emailHelp\"\n          {...register(\"email\")}\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          Password\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          {...register(\"password\")}\n        />\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-primary\">\n        Đăng ký\n      </button>\n    </form>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}