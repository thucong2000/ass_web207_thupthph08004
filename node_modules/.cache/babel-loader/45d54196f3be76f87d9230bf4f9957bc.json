{"ast":null,"code":"import _toConsumableArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\thupthph08004\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, removecate, addcate, editcate } from './api/categoryProductAPI';\nimport \"./styles.css\";\nimport Routes from \"./routes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      categories = _useState4[0],\n      setCategories = _useState4[1]; //---------------------product----------------------------------------\n\n\n  useEffect(function () {\n    // call api\n    var getProducts = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$getAll, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return getAll();\n\n              case 3:\n                _yield$getAll = _context.sent;\n                data = _yield$getAll.data;\n                setProducts(data);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(\"error\", _context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n\n      return function getProducts() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getProducts();\n  }, []); // Xóa sản phẩm\n\n  var removeProduct = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var newProducts;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return remove(id);\n\n            case 3:\n              newProducts = products.filter(function (item) {\n                return item.id !== id;\n              });\n              setProducts(newProducts);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function removeProduct(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Thêm sản phẩm\n\n\n  var addProduct = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item) {\n      var _yield$add, data;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return add(item);\n\n            case 3:\n              _yield$add = _context3.sent;\n              data = _yield$add.data;\n              // tra ve 1 object { data: ..., status: ...}\n              setProducts([].concat(_toConsumableArray(products), [data]));\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 8]]);\n    }));\n\n    return function addProduct(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // item la 1 {}\n\n\n  var editProduct = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item) {\n      var _yield$edit, data, newProducts;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return edit(item);\n\n            case 3:\n              _yield$edit = _context4.sent;\n              data = _yield$edit.data;\n              newProducts = products.map(function (product) {\n                return product.id == item.id ? data : product;\n              });\n              setProducts(newProducts);\n              _context4.next = 11;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 9]]);\n    }));\n\n    return function editProduct(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // ví dụ: promise\n  //------------------------------------------------------------------------------------------\n  //-------------------------category-----------------------------------------\n\n\n  useEffect(function () {\n    // call api\n    var getCategories = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _yield$getAllCate, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return getAllCate();\n\n              case 3:\n                _yield$getAllCate = _context5.sent;\n                data = _yield$getAllCate.data;\n                setCategories(data);\n                _context5.next = 11;\n                break;\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.log(\"error\", _context5.t0);\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 8]]);\n      }));\n\n      return function getCategories() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    getCategories();\n  }, []); // Xóa dm\n\n  var removeCate = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id) {\n      var newCategories;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return removecate(id);\n\n            case 3:\n              newCategories = categories.filter(function (item) {\n                return item.id !== id;\n              });\n              setCategories(newCategories);\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.log(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function removeCate(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }(); // Thêm dm\n\n\n  var addCate = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(item) {\n      var _yield$addcate, data;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return addcate(item);\n\n            case 3:\n              _yield$addcate = _context7.sent;\n              data = _yield$addcate.data;\n              setCategories([].concat(_toConsumableArray(categories), [data]));\n              _context7.next = 11;\n              break;\n\n            case 8:\n              _context7.prev = 8;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.log(_context7.t0);\n\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 8]]);\n    }));\n\n    return function addCate(_x5) {\n      return _ref7.apply(this, arguments);\n    };\n  }(); // item la 1 {}\n\n\n  var editCate = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(item) {\n      var _yield$editcate, data, newCategories;\n\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return editcate(item);\n\n            case 3:\n              _yield$editcate = _context8.sent;\n              data = _yield$editcate.data;\n              newCategories = categories.map(function (category) {\n                return category.id == item.id ? data : category;\n              });\n              setCategories(newCategories);\n              _context8.next = 11;\n              break;\n\n            case 9:\n              _context8.prev = 9;\n              _context8.t0 = _context8[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 9]]);\n    }));\n\n    return function editCate(_x6) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    products: products,\n    onRemove: removeProduct,\n    onAdd: addProduct,\n    onEdit: editProduct,\n    categories: categories,\n    onRemoveCate: removeCate,\n    onAddCate: addCate,\n    onEditCate: editCate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5fzjv6slvL9kyEeBtrdWdsaec98=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/thupthph08004/src/App.js"],"names":["useEffect","useState","getAll","remove","add","edit","getAllCate","removecate","addcate","editcate","Routes","App","products","setProducts","categories","setCategories","getProducts","data","console","log","removeProduct","id","newProducts","filter","item","addProduct","editProduct","map","product","getCategories","removeCate","newCategories","addCate","editCate","category"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, removecate, addcate, editcate } from './api/categoryProductAPI';\nimport \"./styles.css\";\nimport Routes from \"./routes\";\n\nexport default function App() {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  \n\n  //---------------------product----------------------------------------\n\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const { data } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getProducts();\n  }, []);\n  // Xóa sản phẩm\n  const removeProduct = async (id) => {\n    try {\n      await remove(id);\n      const newProducts = products.filter((item) => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // Thêm sản phẩm\n  const addProduct = async (item) => {\n    try {\n      const { data } = await add(item); // tra ve 1 object { data: ..., status: ...}\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const editProduct = async (item) => {\n    try {\n      const { data } = await edit(item);\n      const newProducts = products.map((product) =>\n        product.id == item.id ? data : product\n      );\n      setProducts(newProducts);\n    } catch (error) {}\n  };\n  // ví dụ: promise\n\n\n//------------------------------------------------------------------------------------------\n\n  //-------------------------category-----------------------------------------\n  useEffect(() => {\n    // call api\n    const getCategories = async () => {\n      try {\n        const { data } = await getAllCate();\n        setCategories(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getCategories();\n  }, []);\n  // Xóa dm\n  const removeCate = async (id) => {\n    try {\n      await removecate(id);\n      const newCategories = categories.filter((item) => item.id !== id);\n      setCategories(newCategories);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // Thêm dm\n  const addCate = async (item) => {\n    try {\n      const { data } = await addcate(item); \n      setCategories([...categories, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const editCate = async (item) => {\n    try {\n      const { data } = await editcate(item);\n      const newCategories = categories.map((category) =>\n      category.id == item.id ? data : category\n      );\n      setCategories(newCategories);\n    } catch (error) {}\n  };\n  return (\n    <Routes\n      products={products}\n      onRemove={removeProduct}\n      onAdd={addProduct}\n      onEdit={editProduct}\n      categories={categories}\n      onRemoveCate={removeCate}\n      onAddCate={addCate}\n      onEditCate={editCate}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}