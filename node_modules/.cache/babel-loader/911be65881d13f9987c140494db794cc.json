{"ast":null,"code":"var _jsxFileName = \"E:\\\\web207.2-react\\\\web207.2\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport \"./styles.css\";\nimport Routes from \"./routes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n\n    getProducts();\n  }, []); // Xóa sản phẩm\n\n  const onRemoveHandler = async id => {\n    try {\n      await remove(id);\n      const newProducts = products.filter(item => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Thêm sản phẩm\n\n\n  const onAddHandler = async item => {\n    try {\n      const {\n        data\n      } = await add(item); // tra ve 1 object { data: ..., status: ...}\n\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n\n\n  const onEditHandler = async item => {\n    try {\n      const {\n        data\n      } = await edit(item);\n      const newProducts = products.map(product => product.id == item.id ? data : product);\n      setProducts(newProducts);\n    } catch (error) {}\n  }; // ví dụ: promise\n\n\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    products: products,\n    onRemove: onRemoveHandler,\n    onAdd: onAddHandler,\n    onEdit: onEditHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"f86L6rLANGURv6GE6gupp7+oOp4=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/web207.2-react/web207.2/src/App.js"],"names":["useEffect","useState","getAll","remove","add","edit","Routes","App","products","setProducts","getProducts","data","error","console","log","onRemoveHandler","id","newProducts","filter","item","onAddHandler","onEditHandler","map","product"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,GAAzB,EAA8BC,IAA9B,QAA0C,kBAA1C;AACA,OAAO,cAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,eAAe,SAASC,GAAT,GAAe;AAAA;;AAC5B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMU,WAAW,GAAG,YAAY;AAC9B,UAAI;AACF,cAAM;AAAEC,UAAAA;AAAF,YAAW,MAAMT,MAAM,EAA7B;AACAO,QAAAA,WAAW,CAACE,IAAD,CAAX;AACD,OAHD,CAGE,OAAOC,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACD;AACF,KAPD;;AAQAF,IAAAA,WAAW;AACZ,GAXQ,EAWN,EAXM,CAAT,CAF4B,CAc5B;;AACA,QAAMK,eAAe,GAAG,MAAOC,EAAP,IAAc;AACpC,QAAI;AACF,YAAMb,MAAM,CAACa,EAAD,CAAZ;AACA,YAAMC,WAAW,GAAGT,QAAQ,CAACU,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYA,EAAtC,CAApB;AACAP,MAAAA,WAAW,CAACQ,WAAD,CAAX;AACD,KAJD,CAIE,OAAOL,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GARD,CAf4B,CAwB5B;;;AACA,QAAMQ,YAAY,GAAG,MAAOD,IAAP,IAAgB;AACnC,QAAI;AACF,YAAM;AAAER,QAAAA;AAAF,UAAW,MAAMP,GAAG,CAACe,IAAD,CAA1B,CADE,CACgC;;AAClCV,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcG,IAAd,CAAD,CAAX;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAPD,CAzB4B,CAgCzB;;;AACH,QAAMS,aAAa,GAAG,MAAOF,IAAP,IAAgB;AACpC,QAAI;AACF,YAAM;AAAER,QAAAA;AAAF,UAAW,MAAMN,IAAI,CAACc,IAAD,CAA3B;AACA,YAAMF,WAAW,GAAGT,QAAQ,CAACc,GAAT,CAAcC,OAAD,IAC/BA,OAAO,CAACP,EAAR,IAAcG,IAAI,CAACH,EAAnB,GAAwBL,IAAxB,GAA+BY,OADb,CAApB;AAGAd,MAAAA,WAAW,CAACQ,WAAD,CAAX;AACD,KAND,CAME,OAAOL,KAAP,EAAc,CAAE;AACnB,GARD,CAjC4B,CA0C5B;;;AACA,sBACE,QAAC,MAAD;AACE,IAAA,QAAQ,EAAEJ,QADZ;AAEE,IAAA,QAAQ,EAAEO,eAFZ;AAGE,IAAA,KAAK,EAAEK,YAHT;AAIE,IAAA,MAAM,EAAEC;AAJV;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;;GAnDuBd,G;;KAAAA,G","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport \"./styles.css\";\nimport Routes from \"./routes\";\n\nexport default function App() {\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const { data } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getProducts();\n  }, []);\n  // Xóa sản phẩm\n  const onRemoveHandler = async (id) => {\n    try {\n      await remove(id);\n      const newProducts = products.filter((item) => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // Thêm sản phẩm\n  const onAddHandler = async (item) => {\n    try {\n      const { data } = await add(item); // tra ve 1 object { data: ..., status: ...}\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const onEditHandler = async (item) => {\n    try {\n      const { data } = await edit(item);\n      const newProducts = products.map((product) =>\n        product.id == item.id ? data : product\n      );\n      setProducts(newProducts);\n    } catch (error) {}\n  };\n  // ví dụ: promise\n  return (\n    <Routes\n      products={products}\n      onRemove={onRemoveHandler}\n      onAdd={onAddHandler}\n      onEdit={onEditHandler}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}