{"ast":null,"code":"import _toConsumableArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\thupthph08004\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, addcate, editcate } from \"./api/categoryProductAPI\";\nimport \"./styles.css\";\nimport Routes from \"./routes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  useEffect(function () {\n    // call api\n    var getProducts = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$getAll, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return getAll();\n\n              case 3:\n                _yield$getAll = _context.sent;\n                data = _yield$getAll.data;\n                setProducts(data);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(\"error\", _context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n\n      return function getProducts() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getProducts();\n  }, []); // Xóa sản phẩm\n\n  var onRemove = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var newProducts;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return remove(id);\n\n            case 3:\n              newProducts = products.filter(function (item) {\n                return item.id !== id;\n              });\n              setProducts(newProducts);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function onRemove(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Thêm sản phẩm\n\n\n  var onAddHandler = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item) {\n      var _yield$add, data;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return add(item);\n\n            case 3:\n              _yield$add = _context3.sent;\n              data = _yield$add.data;\n              // tra ve 1 object { data: ..., status: ...}\n              setProducts([].concat(_toConsumableArray(products), [data]));\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 8]]);\n    }));\n\n    return function onAddHandler(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // item la 1 {}\n\n\n  var onEditHandler = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item) {\n      var _yield$edit, data, newProducts;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return edit(item);\n\n            case 3:\n              _yield$edit = _context4.sent;\n              data = _yield$edit.data;\n              newProducts = products.map(function (products) {\n                return products.id == item.id ? data : products;\n              });\n              setProducts(newProducts);\n              _context4.next = 11;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 9]]);\n    }));\n\n    return function onEditHandler(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); //-------------------------category-----------------------------------------\n\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      categories = _useState4[0],\n      Categories = _useState4[1];\n\n  useEffect(function () {\n    // call api\n    var getCategories = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _yield$getAllCate, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return getAllCate();\n\n              case 3:\n                _yield$getAllCate = _context5.sent;\n                data = _yield$getAllCate.data;\n                setCategories(data);\n                _context5.next = 11;\n                break;\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.log(\"error\", _context5.t0);\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 8]]);\n      }));\n\n      return function getCategories() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    getCategories();\n  }, []); // Thêm dm\n\n  var addCate = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(item) {\n      var _yield$addcate, data;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return addcate(item);\n\n            case 3:\n              _yield$addcate = _context6.sent;\n              data = _yield$addcate.data;\n              setCategories([].concat(_toConsumableArray(categories), [data]));\n              _context6.next = 11;\n              break;\n\n            case 8:\n              _context6.prev = 8;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.log(_context6.t0);\n\n            case 11:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 8]]);\n    }));\n\n    return function addCate(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }(); // item la 1 {}\n\n\n  var editCate = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(item) {\n      var _yield$editcate, data, newCategories;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return editcate(item);\n\n            case 3:\n              _yield$editcate = _context7.sent;\n              data = _yield$editcate.data;\n              newCategories = categories.map(function (categories) {\n                return categories.id == item.id ? data : categories;\n              });\n              setCategories(newCategories);\n              _context7.next = 11;\n              break;\n\n            case 9:\n              _context7.prev = 9;\n              _context7.t0 = _context7[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 9]]);\n    }));\n\n    return function editCate(_x5) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    products: products,\n    onRemove: onRemove,\n    onAdd: onAddHandler,\n    onEdit: onEditHandler,\n    categories: categories,\n    onAddCate: addCate,\n    onEditCate: editCate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"t9+nP/HaBfe9KxhBko/Bn83vF30=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/thupthph08004/src/App.js"],"names":["useEffect","useState","getAll","remove","add","edit","getAllCate","addcate","editcate","Routes","App","products","setProducts","getProducts","data","console","log","onRemove","id","newProducts","filter","item","onAddHandler","onEditHandler","map","categories","Categories","getCategories","setCategories","addCate","editCate","newCategories"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,GAAzB,EAA8BC,IAA9B,QAA0C,kBAA1C;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,QAA9B,QAA8C,0BAA9C;AACA,OAAO,cAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,eAAe,SAASC,GAAT,GAAe;AAAA;;AAC5B,kBAAgCT,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOU,QAAP;AAAA,MAAiBC,WAAjB;;AACAZ,EAAAA,SAAS,CAAC,YAAM;AACd;AACA,QAAMa,WAAW;AAAA,0EAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEOX,MAAM,EAFb;;AAAA;AAAA;AAERY,gBAAAA,IAFQ,iBAERA,IAFQ;AAGhBF,gBAAAA,WAAW,CAACE,IAAD,CAAX;AAHgB;AAAA;;AAAA;AAAA;AAAA;AAKhBC,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AALgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAXH,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAQAA,IAAAA,WAAW;AACZ,GAXQ,EAWN,EAXM,CAAT,CAF4B,CAc5B;;AACA,MAAMI,QAAQ;AAAA,yEAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEPf,MAAM,CAACe,EAAD,CAFC;;AAAA;AAGPC,cAAAA,WAHO,GAGOR,QAAQ,CAACS,MAAT,CAAgB,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAACH,EAAL,KAAYA,EAAtB;AAAA,eAAhB,CAHP;AAIbN,cAAAA,WAAW,CAACO,WAAD,CAAX;AAJa;AAAA;;AAAA;AAAA;AAAA;AAMbJ,cAAAA,OAAO,CAACC,GAAR;;AANa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARC,QAAQ;AAAA;AAAA;AAAA,KAAd,CAf4B,CAyB5B;;;AACA,MAAMK,YAAY;AAAA,yEAAG,kBAAOD,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEMjB,GAAG,CAACiB,IAAD,CAFT;;AAAA;AAAA;AAETP,cAAAA,IAFS,cAETA,IAFS;AAEiB;AAClCF,cAAAA,WAAW,8BAAKD,QAAL,IAAeG,IAAf,GAAX;AAHiB;AAAA;;AAAA;AAAA;AAAA;AAKjBC,cAAAA,OAAO,CAACC,GAAR;;AALiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZM,YAAY;AAAA;AAAA;AAAA,KAAlB,CA1B4B,CAiCzB;;;AACH,MAAMC,aAAa;AAAA,yEAAG,kBAAOF,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEKhB,IAAI,CAACgB,IAAD,CAFT;;AAAA;AAAA;AAEVP,cAAAA,IAFU,eAEVA,IAFU;AAGZK,cAAAA,WAHY,GAGER,QAAQ,CAACa,GAAT,CAAa,UAACb,QAAD;AAAA,uBAC/BA,QAAQ,CAACO,EAAT,IAAeG,IAAI,CAACH,EAApB,GAAyBJ,IAAzB,GAAgCH,QADD;AAAA,eAAb,CAHF;AAMlBC,cAAAA,WAAW,CAACO,WAAD,CAAX;AANkB;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbI,aAAa;AAAA;AAAA;AAAA,KAAnB,CAlC4B,CA4C5B;;;AACA,mBAAiCtB,QAAQ,CAAC,EAAD,CAAzC;AAAA;AAAA,MAAOwB,UAAP;AAAA,MAAmBC,UAAnB;;AACA1B,EAAAA,SAAS,CAAC,YAAM;AACd;AACA,QAAM2B,aAAa;AAAA,2EAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEKrB,UAAU,EAFf;;AAAA;AAAA;AAEVQ,gBAAAA,IAFU,qBAEVA,IAFU;AAGlBc,gBAAAA,aAAa,CAACd,IAAD,CAAb;AAHkB;AAAA;;AAAA;AAAA;AAAA;AAKlBC,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AALkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAbW,aAAa;AAAA;AAAA;AAAA,OAAnB;;AAQAA,IAAAA,aAAa;AACd,GAXQ,EAWN,EAXM,CAAT,CA9C4B,CA0D5B;;AACA,MAAME,OAAO;AAAA,yEAAG,kBAAOR,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEWd,OAAO,CAACc,IAAD,CAFlB;;AAAA;AAAA;AAEJP,cAAAA,IAFI,kBAEJA,IAFI;AAGZc,cAAAA,aAAa,8BAAKH,UAAL,IAAiBX,IAAjB,GAAb;AAHY;AAAA;;AAAA;AAAA;AAAA;AAKZC,cAAAA,OAAO,CAACC,GAAR;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPa,OAAO;AAAA;AAAA;AAAA,KAAb,CA3D4B,CAkEzB;;;AACH,MAAMC,QAAQ;AAAA,yEAAG,kBAAOT,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEUb,QAAQ,CAACa,IAAD,CAFlB;;AAAA;AAAA;AAELP,cAAAA,IAFK,mBAELA,IAFK;AAGPiB,cAAAA,aAHO,GAGSN,UAAU,CAACD,GAAX,CAAe,UAACC,UAAD;AAAA,uBACnCA,UAAU,CAACP,EAAX,IAAiBG,IAAI,CAACH,EAAtB,GAA2BJ,IAA3B,GAAkCW,UADC;AAAA,eAAf,CAHT;AAMbG,cAAAA,aAAa,CAACG,aAAD,CAAb;AANa;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARD,QAAQ;AAAA;AAAA;AAAA,KAAd;;AASA,sBACE,QAAC,MAAD;AACE,IAAA,QAAQ,EAAEnB,QADZ;AAEE,IAAA,QAAQ,EAAEM,QAFZ;AAGE,IAAA,KAAK,EAAEK,YAHT;AAIE,IAAA,MAAM,EAAEC,aAJV;AAME,IAAA,UAAU,EAAEE,UANd;AAOE,IAAA,SAAS,EAAEI,OAPb;AAQE,IAAA,UAAU,EAAEC;AARd;AAAA;AAAA;AAAA;AAAA,UADF;AAYD;;GAxFuBpB,G;;KAAAA,G","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAll, remove, add, edit } from \"./api/productAPI\";\nimport { getAllCate, addcate, editcate } from \"./api/categoryProductAPI\";\nimport \"./styles.css\";\nimport Routes from \"./routes\";\n\nexport default function App() {\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    // call api\n    const getProducts = async () => {\n      try {\n        const { data } = await getAll();\n        setProducts(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getProducts();\n  }, []);\n  // Xóa sản phẩm\n  const onRemove = async (id) => {\n    try {\n      await remove(id);\n      const newProducts = products.filter((item) => item.id !== id);\n      setProducts(newProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  \n  // Thêm sản phẩm\n  const onAddHandler = async (item) => {\n    try {\n      const { data } = await add(item); // tra ve 1 object { data: ..., status: ...}\n      setProducts([...products, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const onEditHandler = async (item) => {\n    try {\n      const { data } = await edit(item);\n      const newProducts = products.map((products) =>\n        products.id == item.id ? data : products\n      );\n      setProducts(newProducts);\n    } catch (error) {}\n  };\n\n  //-------------------------category-----------------------------------------\n  const [categories, Categories] = useState([]);\n  useEffect(() => {\n    // call api\n    const getCategories = async () => {\n      try {\n        const { data } = await getAllCate();\n        setCategories(data);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n    getCategories();\n  }, []);\n  // Thêm dm\n  const addCate = async (item) => {\n    try {\n      const { data } = await addcate(item);\n      setCategories([...categories, data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // item la 1 {}\n  const editCate = async (item) => {\n    try {\n      const { data } = await editcate(item);\n      const newCategories = categories.map((categories) =>\n        categories.id == item.id ? data : categories\n      );\n      setCategories(newCategories);\n    } catch (error) {}\n  };\n  return (\n    <Routes\n      products={products}\n      onRemove={onRemove}\n      onAdd={onAddHandler}\n      onEdit={onEditHandler}\n    \n      categories={categories}\n      onAddCate={addCate}\n      onEditCate={editCate}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}