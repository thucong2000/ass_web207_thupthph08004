{"ast":null,"code":"import _slicedToArray from \"E:/thupthph08004/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\thupthph08004\\\\src\\\\components\\\\website\\\\header.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\nimport { signOut, isAuthenticate } from \"../../auth/index\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Header = function Header() {\n  _s();\n\n  var history = useHistory(); // sau khi logout thì quay về trang nào đó\n\n  var _useLocation = useLocation(),\n      pathname = _useLocation.pathname; // pathname: Để lấy cái đường dẫn sau domain ví dụ: dantri.com/[pathname]\n\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLogged = _useState2[0],\n      setIsLogged = _useState2[1]; // set state để sau này check trạng thái đã đăng nhập hay chưa\n\n\n  var _isAuthenticate = isAuthenticate(),\n      email = _isAuthenticate.email,\n      sub = _isAuthenticate.sub; // lấy thông tin từ localStorage: email, id để hiển thị ra ngoài và check quyền\n\n\n  useEffect(function () {\n    // render sau khi return chạy\n    isAuthenticate() && setIsLogged(true); // nếu mà thằng user đăng nhập (có thông tin localStorage) thì set state là true\n  }, [pathname, isLogged]); // thằng useEffect được gọi là khi thằng pathname hoặc thằng state thay đổi\n\n  var checkLogin = function checkLogin() {\n    if (pathname !== \"/signin\" && isLogged) {\n      // nếu pathname thay đổi (!= signin) và đã đăng nhập\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          exact: true,\n          className: \"nav-link\",\n          \"aria-current\": \"page\",\n          to: sub == 1 ? \"/admin/dashboard\" : \"/user/dashboard\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"nav-link\",\n          style: {\n            cursor: \"pointer\"\n          },\n          onClick: function onClick() {\n            return signOut(function () {\n              setIsLogged(false);\n              history.push(\"/\");\n            });\n          },\n          children: \"Sign Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true);\n    } else if (pathname === \"/signin\" && isLogged) {\n      // neu đã login và truy cập vào đường dẫn /signin\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, _this);\n    } else {\n      // ngược lại khi signout\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signin\",\n          class: \"nav-link\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          class: \"nav-link\",\n          to: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"site-header sticky-top py-1\",\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"container d-flex flex-column flex-md-row justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"py-2\",\n        href: \"#\",\n        \"aria-label\": \"Product\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: 24,\n          height: 24,\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          className: \"d-block mx-auto\",\n          role: \"img\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: 12,\n            cy: 12,\n            r: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"nav-link\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"nav-link\",\n        children: \"Tour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"nav-link\",\n        children: \"Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"nav-link\",\n        children: \"Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/contact\",\n        className: \"nav-link\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin\",\n        className: \"nav-link\",\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, _this), checkLogin(), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"py-2 d-none d-md-inline-block\",\n        href: \"#\",\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Header, \"QBHH+xTw1+EiBKon6+G5KR+gssY=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["E:/thupthph08004/src/components/website/header.js"],"names":["React","useEffect","useState","Link","Redirect","useHistory","signOut","isAuthenticate","useLocation","Header","history","pathname","isLogged","setIsLogged","email","sub","checkLogin","cursor","push"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,UAAzB,QAA2C,kBAA3C;AACA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,kBAAxC;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA;;AACnB,MAAMC,OAAO,GAAGL,UAAU,EAA1B,CADmB,CACW;;AAC9B,qBAAqBG,WAAW,EAAhC;AAAA,MAAQG,QAAR,gBAAQA,QAAR,CAFmB,CAEiB;;;AACpC,kBAAgCT,QAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAOU,QAAP;AAAA,MAAiBC,WAAjB,iBAHmB,CAG8B;;;AACjD,wBAAuBN,cAAc,EAArC;AAAA,MAAQO,KAAR,mBAAQA,KAAR;AAAA,MAAeC,GAAf,mBAAeA,GAAf,CAJmB,CAIsB;;;AACzCd,EAAAA,SAAS,CAAC,YAAM;AACd;AACAM,IAAAA,cAAc,MAAMM,WAAW,CAAC,IAAD,CAA/B,CAFc,CAEyB;AACxC,GAHQ,EAGN,CAACF,QAAD,EAAWC,QAAX,CAHM,CAAT,CALmB,CAQO;;AAC1B,MAAMI,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAIL,QAAQ,KAAK,SAAb,IAA0BC,QAA9B,EAAwC;AACtC;AACA,0BACE;AAAA,gCACE,QAAC,IAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,SAAS,EAAC,UAFZ;AAGE,0BAAa,MAHf;AAIE,UAAA,EAAE,EAAEG,GAAG,IAAI,CAAP,GAAW,kBAAX,GAAgC,iBAJtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eASE,QAAC,IAAD;AACE,UAAA,SAAS,EAAC,UADZ;AAEE,UAAA,KAAK,EAAE;AAAEE,YAAAA,MAAM,EAAE;AAAV,WAFT;AAGE,UAAA,OAAO,EAAE;AAAA,mBACPX,OAAO,CAAC,YAAM;AACZO,cAAAA,WAAW,CAAC,KAAD,CAAX;AACAH,cAAAA,OAAO,CAACQ,IAAR,CAAa,GAAb;AACD,aAHM,CADA;AAAA,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF;AAAA,sBADF;AAwBD,KA1BD,MA0BO,IAAIP,QAAQ,KAAK,SAAb,IAA0BC,QAA9B,EAAwC;AAC7C;AACA,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,eAAP;AACD,KAHM,MAGA;AACL;AACA,0BACE;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,SAAT;AAAmB,UAAA,KAAK,EAAC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAKE,QAAC,IAAD;AAAM,UAAA,KAAK,EAAC,UAAZ;AAAuB,UAAA,EAAE,EAAC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF;AAAA,sBADF;AAWD;AACF,GA5CD;;AA6CA,sBACE;AAAQ,IAAA,SAAS,EAAC,6BAAlB;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,kEAAf;AAAA,8BACE;AAAG,QAAA,SAAS,EAAC,MAAb;AAAoB,QAAA,IAAI,EAAC,GAAzB;AAA6B,sBAAW,SAAxC;AAAA,+BACE;AACE,UAAA,KAAK,EAAC,4BADR;AAEE,UAAA,KAAK,EAAE,EAFT;AAGE,UAAA,MAAM,EAAE,EAHV;AAIE,UAAA,IAAI,EAAC,MAJP;AAKE,UAAA,MAAM,EAAC,cALT;AAME,UAAA,aAAa,EAAC,OANhB;AAOE,UAAA,cAAc,EAAC,OAPjB;AAQE,UAAA,WAAW,EAAE,CARf;AASE,UAAA,SAAS,EAAC,iBATZ;AAUE,UAAA,IAAI,EAAC,KAVP;AAWE,UAAA,OAAO,EAAC,WAXV;AAAA,kCAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAbF,eAcE;AAAQ,YAAA,EAAE,EAAE,EAAZ;AAAgB,YAAA,EAAE,EAAE,EAApB;AAAwB,YAAA,CAAC,EAAE;AAA3B;AAAA;AAAA;AAAA;AAAA,mBAdF,eAeE;AAAM,YAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,mBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADF,eAoBE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eApBF,eAqBE,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eArBF,eAsBE,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtBF,eAuBE,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvBF,eAwBE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,UAAT;AAAoB,QAAA,SAAS,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAxBF,eAyBE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAkB,QAAA,SAAS,EAAC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAzBF,EA0BGI,UAAU,EA1Bb,eA4BE;AAAG,QAAA,SAAS,EAAC,+BAAb;AAA6C,QAAA,IAAI,EAAC,GAAlD;AAAA,kBACGF;AADH;AAAA;AAAA;AAAA;AAAA,eA5BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAoCD,CA1FD;;GAAML,M;UACYJ,U,EACKG,W;;;KAFjBC,M;AA4FN,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\nimport { signOut, isAuthenticate } from \"../../auth/index\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Header = () => {\n  const history = useHistory(); // sau khi logout thì quay về trang nào đó\n  const { pathname } = useLocation(); // pathname: Để lấy cái đường dẫn sau domain ví dụ: dantri.com/[pathname]\n  const [isLogged, setIsLogged] = useState(false); // set state để sau này check trạng thái đã đăng nhập hay chưa\n  const { email, sub } = isAuthenticate(); // lấy thông tin từ localStorage: email, id để hiển thị ra ngoài và check quyền\n  useEffect(() => {\n    // render sau khi return chạy\n    isAuthenticate() && setIsLogged(true); // nếu mà thằng user đăng nhập (có thông tin localStorage) thì set state là true\n  }, [pathname, isLogged]); // thằng useEffect được gọi là khi thằng pathname hoặc thằng state thay đổi\n  const checkLogin = () => {\n    if (pathname !== \"/signin\" && isLogged) {\n      // nếu pathname thay đổi (!= signin) và đã đăng nhập\n      return (\n        <>\n          <Link\n            exact\n            className=\"nav-link\"\n            aria-current=\"page\"\n            to={sub == 1 ? \"/admin/dashboard\" : \"/user/dashboard\"}\n          >\n            Dashboard\n          </Link>\n          <Link\n            className=\"nav-link\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() =>\n              signOut(() => {\n                setIsLogged(false);\n                history.push(\"/\");\n              })\n            }\n          >\n            Sign Out\n          </Link>\n        </>\n      );\n    } else if (pathname === \"/signin\" && isLogged) {\n      // neu đã login và truy cập vào đường dẫn /signin\n      return <Redirect to=\"/\" />;\n    } else {\n      // ngược lại khi signout\n      return (\n        <>\n          <Link to=\"/signin\" class=\"nav-link\">\n            Sign In\n          </Link>\n\n          <Link class=\"nav-link\" to=\"/signup\">\n            Sign Up\n          </Link>\n        </>\n      );\n    }\n  };\n  return (\n    <header className=\"site-header sticky-top py-1\">\n      <nav className=\"container d-flex flex-column flex-md-row justify-content-between\">\n        <a className=\"py-2\" href=\"#\" aria-label=\"Product\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={24}\n            height={24}\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            className=\"d-block mx-auto\"\n            role=\"img\"\n            viewBox=\"0 0 24 24\"\n          >\n            <title>Product</title>\n            <circle cx={12} cy={12} r={10} />\n            <path d=\"M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94\" />\n          </svg>\n        </a>\n        <Link to=\"/\" className=\"nav-link\">Home</Link>\n        <Link className=\"nav-link\">Tour</Link>\n        <Link className=\"nav-link\">Product</Link>\n        <Link className=\"nav-link\">Features</Link>\n        <Link to=\"/contact\" className=\"nav-link\">Contact</Link>\n        <Link to=\"/admin\" className=\"nav-link\">Admin</Link>\n        {checkLogin()}\n\n        <a className=\"py-2 d-none d-md-inline-block\" href=\"#\">\n          {email}\n        </a>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}